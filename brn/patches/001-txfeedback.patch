Index: net80211/ieee80211_monitor.c
===================================================================
--- net80211/ieee80211_monitor.c	(Revision 3869)
+++ net80211/ieee80211_monitor.c	(Arbeitskopie)
@@ -571,7 +571,8 @@
 			skb_reset_mac_header(skb1);
 
 			skb1->ip_summed = CHECKSUM_NONE;
-			skb1->pkt_type = pkttype;
+			if (!tx) skb1->pkt_type = pkttype;
+			else skb1->pkt_type = PACKET_OTHERHOST;
 			skb1->protocol = 
 				__constant_htons(0x0019); /* ETH_P_80211_RAW */
 
Index: ath/if_ath.c
===================================================================
--- ath/if_ath.c	(Revision 3869)
+++ ath/if_ath.c	(Arbeitskopie)
@@ -3047,6 +3047,8 @@
 
 	flags |= HAL_TXDESC_INTREQ;
 
+//        printk("Setpower %d\n",power);
+
 	/* XXX check return value? */
 	ath_hal_setuptxdesc(ah, ds,
 			    pktlen,			/* packet length */
